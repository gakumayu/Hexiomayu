<template>
<div>
  level:
  <v-btn @click="minus()">-</v-btn>
  {{level}}
  <v-btn @click="plus()">+</v-btn>
  <svg width="2000" height="2000">
    <startbutton v-if="!started" @start="started=true"></startbutton>
    <board v-if="started" exp="50" :problem="problemset[game.level][game.index]" :nextLevelUp="nextLevelUp"></board>
  </svg>
</div>

</template>

<script>
import iconbase from '~/components/IconBase.vue'
import board from '~/components/board.vue'
import startbutton from '~/components/startbutton.vue'
import {mapState} from 'vuex'
export default {
    data(){
	return{
	    started:false,
	    problemset:[
		[
		    [
			{a:0,b:0,n:0}
		    ],	    
		],//level0
		[
		    [
			{a:0,b:0,n:2},
			{a:1,b:0,n:4},
			{a:1,b:-1,n:2},
			{a:-1,b:1,n:2},
			{a:-1,b:0,n:2},//骨
		    ],
		    [
			{a:1,b:0,n:4},
			{a:0,b:0,n:3},
			{a:-1,b:1,n:2},
			{a:0,b:1,n:2},
			{a:-1,b:0,n:1},//矢印	
		    ],
		],//level1
		[
		    [
			{a:0,b:1,n:2},
			{a:1,b:0,n:2},
			{a:-1,b:1,n:2},
			{a:1,b:-1,n:2},
			{a:-1,b:0,n:2},
			{a:0,b:-1,n:2},
			{a:-2,b:0,n:2},
			{a:-2,b:2,n:2},
			{a:0,b:2,n:2},
			{a:2,b:0,n:2},
			{a:2,b:-2,n:2},
			{a:0,b:-2,n:2},//米
		    ],
		    [
			{a:0,b:2,n:3},
			{a:1,b:0,n:3},
			{a:-1,b:-1,n:3},
			{a:-2,b:1,n:2},
			{a:0,b:0,n:2},
			{a:1,b:-1,n:3},
			{a:-2,b:0,n:2},
			{a:0,b:-1,n:1},
			{a:0,b:1,n:2},
			{a:0,b:-2,n:2},
			{a:2,b:-1,n:1},
			{a:1,b:-2,n:2},
			{a:-1,b:1,n:2},//S
		    ],
		],//level2
		[
		    [
			{a:-3,b:0,n:1},
			{a:-3,b:1,n:1},
			{a:-3,b:2,n:1},
			{a:-3,b:3,n:1},
			{a:-2,b:3,n:1},
			{a:-1,b:3,n:1},
			{a:0,b:3,n:2},
			{a:1,b:2,n:2},
			{a:2,b:1,n:2},
			{a:3,b:0,n:2},
			{a:3,b:-1,n:2},
			{a:3,b:-2,n:2},
			{a:3,b:-3,n:4},
			{a:2,b:-3,n:4},
			{a:1,b:-3,n:4},
			{a:0,b:-3,n:4},
			{a:-1,b:-2,n:4},
			{a:-2,b:-1,n:4},
			{a:0,b:0,n:6},//雪
		    ],
		    [
			{a:-2,b:0,n:1},
			{a:-1,b:0,n:4},
			{a:-3,b:0,n:4},
			{a:0,b:0,n:4},
			{a:3,b:0,n:4},
			{a:2,b:0,n:4},
			{a:1,b:0,n:3},
			{a:-2,b:1,n:4},
			{a:2,b:1,n:4},
			{a:0,b:1,n:3},
			{a:-3,b:2,n:2},
			{a:-3,b:3,n:4},
			{a:-1,b:2,n:4},
			{a:0,b:2,n:4},
			{a:1,b:2,n:3},
			{a:1,b:1,n:2},
			{a:0,b:3,n:2},
			{a:1,b:-3,n:2},
			{a:3,b:-3,n:2},
			{a:-1,b:-2,n:2},
			{a:0,b:-2,n:4},
			{a:-1,b:1,n:4},
			{a:2,b:-3,n:4},
			{a:3,b:-1,n:3},
			{a:-1,b:-1,n:4},
			{a:1,b:-1,n:4},
			{a:3,b:-2,n:3},//不明な形
		    ],
		],//level3
		[
		    [
			{a:0,b:-4,n:1},
			{a:1,b:-4,n:1},
			{a:2,b:-4,n:2},
			{a:3,b:-4,n:2},
			{a:4,b:-4,n:2},
			{a:-2,b:-1,n:2},
			{a:-1,b:-1,n:2},
			{a:1,b:-1,n:2},
			{a:-2,b:-2,n:3},
			{a:2,b:-2,n:3},
			{a:4,b:-2,n:3},
			{a:3,b:-1,n:3},
			{a:4,b:-1,n:3},
			{a:4,b:0,n:3},
			{a:3,b:1,n:3},
			{a:2,b:2,n:3},
			{a:1,b:3,n:3},
			{a:0,b:1,n:3},
			{a:1,b:1,n:3},
			{a:2,b:1,n:3},
			{a:1,b:0,n:3},
			{a:2,b:0,n:3},
			{a:-1,b:3,n:3},
			{a:0,b:3,n:3},
			{a:-3,b:0,n:3},
			{a:3,b:0,n:3},
			{a:-4,b:3,n:3},
			{a:-3,b:3,n:3},
			{a:-2,b:2,n:4},
			{a:-2,b:2,n:4},
			{a:0,b:0,n:4},
			{a:-2,b:4,n:4},
			{a:-1,b:4,n:4},
			{a:0,b:4,n:4},
			{a:-4,b:0,n:4},
			{a:-4,b:1,n:4},
			{a:0,b:-3,n:6},
			{a:1,b:-3,n:6},
			{a:3,b:-3,n:6},
			
		    ],
		],//level4
	    ],
	    
	}
    },
    computed:{
    	...mapState({
	    level:'level',
	    game:'game'
	}),
	nextLevelUp(){
	    if(this.problemset[this.game.level].length > this.game.index + 1){
		return false
	    }else{
		return true
	    }
	}
    },
    components: {
	board,
	startbutton
    },
    methods:{
	minus(){
	    this.$store.commit('levelDown')
	},
	plus(){
	   this.$store.commit('levelUp')
	},
    }
}
</script>
